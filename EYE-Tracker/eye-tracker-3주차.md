# eye-tracker-3ì£¼ì°¨

-headtracker

# ğŸ¤–yaw pitch roll ì˜ˆì¸¡ ëª¨ë¸ í”„ë¡œì íŠ¸

- headtrackerê³¼ ì›¹ìº ì„ ì´ìš©í•˜ì—¬ ì‚¬ëŒì˜ ë¨¸ë¦¬ ìš´ë™ë°©í–¥ì˜ ì •ë³´ë¥¼ ì–»ìŠµë‹ˆë‹¤.
- ì´í›„, ì¼€ë¼ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ë”¥ëŸ¬ë‹í•˜ì—¬, ì´ë¯¸ì§€ë§Œì„ ì´ìš©í•˜ì—¬ image(ì˜ìƒ)ìœ¼ë¡œ
- yaw pitch roll ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì„ ê°œë°œí•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

## 2. íŒŒì´ì¬ 3.5.4 ì„¤ì¹˜í•˜ê¸°

[https://www.python.org/downloads/](https://www.python.org/downloads/)ì„ ë“¤ì–´ê°€ì…”ì„œ íŒŒì´ì¬ ë²„ì „ 3.5.4ë¥¼ ë‹¤ìš´ë°›ì•„ ì„¤ì¹˜í•œ í›„ í™•ì¸í•´ì¤ë‹ˆë‹¤.

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/1.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/1.png)

## 3. ì—¬ëŸ¬ íŒ¨í‚¤ì§€ ì„¤ì¹˜í•˜ê¸°

### 1. numpy(ë„˜íŒŒì´):

í–‰ë ¬ì´ë‚˜ ì¼ë°˜ì ìœ¼ë¡œ ëŒ€ê·œëª¨ ë‹¤ì°¨ì› ë°°ì—´ì„ ì‰½ê²Œ ì²˜ë¦¬ í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” íŒŒì´ì¬ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.  ë°ì´í„° êµ¬ì¡° ì™¸ì—ë„ ìˆ˜ì¹˜ ê³„ì‚°ì„ ìœ„í•´ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬í˜„ëœ ê¸°ëŠ¥ì„ ì œê³µ

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/2.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/2.png)

### 2. tensorflow(í…ì„œí”Œë¡œìš°):

ë‹¤ì–‘í•œ ì‘ì—…ì—ëŒ€í•´ ë°ì´í„° íë¦„ í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•œ ì˜¤í”ˆì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. 

ë˜í•œ, ì‹¬ë³¼ë¦­ ìˆ˜í•™ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ì, ë‰´ëŸ´ ë„¤íŠ¸ì›Œí¬ê°™ì€ ê¸°ê³„í•™ìŠµ ì‘ìš©í”„ë¡œê·¸ë¨ì—ë„ ì‚¬ìš©

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/3.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/3.png)

### 3. keras(ì¼€ë¼ìŠ¤):

 íŒŒì´ì¬ìœ¼ë¡œ ì‘ì„±ëœ ì˜¤í”ˆ ì†ŒìŠ¤ ì‹ ê²½ë§ ë¼ì´ë¸ŒëŸ¬ë¦¬. ì‰½ê²Œ ë§í•´, ë”¥ëŸ¬ë‹ê³¼ ê°™ì€ í•™ìŠµì„ í•˜ëŠ”ê³³ì— ì‚¬ìš©ëœë‹¤.

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/4.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/4.png)

### 4. pandas(íŒë‹¤ìŠ¤):

ë°ì´í„° ì¡°ì‘ ë° ë¶„ì„ì„ ìœ„í•´ Python í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±ëœ ì†Œí”„íŠ¸ì›¨ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬.

ìˆ«ì í…Œì´ë¸” ë° ì‹œê³„ì—´ì„ ì¡°ì‘í•˜ê¸°ìœ„í•œ ë°ì´í„° êµ¬ì¡° ë° ì¡°ì‘ì„ ì œê³µ

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/5.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/5.png)

### 5. matplotlib(ë§·í”Œëë¼ì´ë¸ŒëŸ¬ë¦¬):

 íŒŒì´ì¬ì—ì„œ ë§¤íŠ¸ë©ê³¼ ìœ ì‚¬í•œ ê·¸ë˜í”„ í‘œì‹œë¥¼ ê°€ëŠ¥ì¼€ í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬. ë‚˜ì¤‘ì— í—¤ë“œíŠ¸ë˜ì»¤ì—ì„œ ì–»ì€ ì •ë³´ë¥¼ ì •ë¦¬í•˜ì—¬ ë³´ì—¬ì£¼ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤!!

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/6.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/6.png)

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/7.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/7.png)

### 6. sklearn(ì‚¬ì´í‚·ëŸ°): Python í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ìœ„í•œ ë¬´ë£Œ ì†Œí”„íŠ¸ì›¨ì–´ ê¸°ê³„ í•™ìŠµ ë¼ì´ë¸ŒëŸ¬ë¦¬

### 7. scikit-image(ì‚¬ì´í‚· ì´ë¯¸ì§€):

Python í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ìœ„í•œ ì˜¤í”ˆ ì†ŒìŠ¤ ì´ë¯¸ì§€ ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

ë¶„í• , ê¸°í•˜ ë³€í™˜, ìƒ‰ ê³µê°„ ì¡°ì‘, ë¶„ì„, í•„í„°ë§, í˜•íƒœ, íŠ¹ì§• íƒì§€ ë“±ì„ìœ„í•œ ì•Œê³ ë¦¬ì¦˜

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/8.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/8.png)

### 8. image(ì´ë¯¸ì§€):

ì´ë¯¸ì§€ ë° ë¹„ë””ì˜¤ì˜ ìë¥´ê¸°, í¬ê¸° ì¡°ì •, ì¸ë„¤ì¼ ë§, ì˜¤ë²„ë ˆì´ ë° ë§ˆìŠ¤í‚¹ì„ ì œê³µí•˜ëŠ” Django ì‘ìš© í”„ë¡œê·¸ë¨

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/9.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/9.png)

## 4. ì›¹ìº ìœ¼ë¡œ ì‚¬ì§„ ë°ì´í„° ìˆ˜ì§‘í•˜ê¸°

ì¸ìˆ˜ì¸ê³„/dataìƒì„±/ camera.exeì‹¤í–‰í•´ì¤€ë‹¤.

camera cap data í´ë”ì— ì›¹ìº ì´ ì°ì€ ì˜ìƒì´ imageíŒŒì¼ë¡œ ì €ì¥ëœë‹¤.

camera time.csvíŒŒì¼ì´ ìƒì„±ë˜ëŠ”ë° ì´ê²ƒì€ cameraê°€ ì°ì€ ì‹œê°„ì„ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.

ì°ì€ ì‚¬ì§„ë“¤ì´ ì¸í’‹ë°ì´í„°ì´ë‹¤.

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/10.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/10.png)

## 5. track ir v5.exeì„¤ì¹˜ í•˜ê¸°

[https://www.naturalpoint.com/trackir/](https://www.naturalpoint.com/trackir/) ì™¼ìª½ì˜ í˜ì´ì§€ì— ë“¤ì–´ê°€ì„œ head trackerë¥¼ ìœ„í•œ exeíŒŒì¼ì„ ì„¤ì¹˜í•´ì¤€ë‹¤.

alt+f7ì„ í•´ì£¼ë©´ í™”ë©´ê³ ì •ì„ ë‹¤ì‹œ ì‹¤í–‰ì‹œì¼œ ì¤„ ìˆ˜ ìˆë‹¤.

## 6. track ir sdk ì„¤ì¹˜í•˜ê¸°

ê·¸ëƒ¥ í™ˆí˜ì´ì§€ì— ë“¤ì–´ê°€ë©´ sdkë¥¼ ì–»ì„ ìˆ˜ ì—†ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‹´ë‹¹ìì—ê²Œ ë”°ë¡œ ë©”ì¼ì„ ë³´ë‚´ì„œ sdkíŒŒì¼ì„ ë°›ì•„ì•¼í•œë‹¤. 

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/11.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/11.png)

sdkì˜ ì••ì¶•ì„ í’€ì–´ì£¼ê³ , 

C:\Users\ì°Œì›Œë‹ˆì»´í“¨í„°\OneDrive\Desktop\TrackIR_Enhanced_SDK_2019_WIP\TrackIR_Enhanced_SDK_2019\Developer Package\Sample Code\Game Client Sample (cpp)ì— ë“¤ì–´ê°€ë©´ NPTest.projë¥¼ ì‹¤í–‰ í›„ source fileì˜ NPTestDlgë¥¼ í´ë¦­í•˜ì—¬ íƒ€ì´ë¨¸ì˜ ë°ì´í„° ì½”ë“œë¥¼ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/Untitled.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/Untitled.png)

// Timer routine for test purposes -- simply pumps numbered text messages to the
// output window to check UI message scrolling, etc.
//
void CNPTestDlg::OnTimer(UINT_PTR nIDEvent)
{
TRACKIRDATA tid;
NPRESULT result;
CString csTimerMsg;
NPRESULT mydata = NP_GetData(&tid);
//Save the data as csv file
FILE* fp = fopen("test.csv", "at");
//Time measure
clock_t before;
double timeM;
before = clock();
for (int i = 0; i <32765; i++) printf("%dn", i);
timeM = (double)(clock() - before) / CLOCKS_PER_SEC;//fprintf(fp, "Pitch,Yaw,Roll,X,Y,Z,Status,FrameSignature\n");
fprintf(fp,
"%04.02f, %04.02f, %04.02f, %04.02f, %04.02f, %04.02f, %d, %d, %04.03f, %04.03f\n",
tid.fNPPitch,
tid.fNPYaw,
tid.fNPRoll,
tid.fNPX,
tid.fNPY,
tid.fNPZ,
tid.wNPStatus,
tid.wPFrameSignature,
timeM);
m_nTimerMessageNum++;
// "Poll" the NPClient interface for new TrackIR data, and process it if found
result = client_HandleTrackIRData();
if (result == NP_ERR_NO_DATA)
{
// csTimerMsg.Format( "No new data on timer call %d", m_nTimerMessageNum);
// DisplayLine( csTimerMsg );
}
CDialog::OnTimer(nIDEvent);
fclose(fp);
} // CNPTestDlg::OnTimer()9

ìœ„ì˜ ì½”ë“œë¥¼ ì ì ˆí•˜ê²Œ ì³ì£¼ê³  ë””ë²„ê·¸ëª¨ë“œì˜ 32ë¹„íŠ¸(x86)í™˜ê²½ì—ì„œ ì‹¤í–‰í•´ì¤€ë‹¤.

ê·¸ë ‡ê²Œ ë˜ë©´ nptest.exeê°€ ìƒì„±ëœë‹¤.

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/12.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/12.png)

â†’2020ë…„ 04ì›” 23ì¼ í˜„ì¬ ì§€ê¸ˆ track ir ë“œë¼ì´ë²„ê°€ ì œëŒ€ë¡œ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¬¸ì œ í•´ê²° í›„ ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

# live data ë¶„ì„

   

![eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/Untitled%201.png](eye-tracker-3%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%209e11aeeec11f4ff191d77bbc2f4934f3/Untitled%201.png)

# live data.json ì˜ ì €ì¥ëœ í˜•ì‹

{"ts":3170668458,"s":0,"ac":[-0.471,-9.598,2.251]}

{"ts":3170569152,"s":0,"gy":[11.620,-13.868,-1.166]}

{"ts":3170660907,"s":0,"gidx":52598,"pc":[-31.86,-23.72,-26.34],"eye":"right"}

{"ts":3170660907,"s":0,"gidx":52598,"pd":4.02,"eye":"right"}

{"ts":3170660907,"s":0,"gidx":52598,"gd":[0.0352,0.3276,0.9442],"eye":"right"}

{"ts":3170680864,"s":0,"gidx":52599,"pc":[28.52,-23.18,-28.38],"eye":"left"}

{"ts":3170680864,"s":0,"gidx":52599,"pd":4.04,"eye":"left"}

{"ts":3170680864,"s":0,"gidx":52599,"gd":[-0.0630,0.2838,0.9568],"eye":"left"}

{"ts":3170660907,"s":0,"gidx":52598,"l":119702,"gp":[0.5377,0.2307]}

{"ts":3170660907,"s":0,"gidx":52598,"gp3":[-6.66,159.54,533.55]}

ts - time stamp

ì—°ì†ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•  ë•Œ ì‹œê°„ì„ í‘œì‹œ

s - status

ë°ì´í„°ì˜ statusë¥¼ ë‚˜íƒ€ë‚´ë©° 0ì¼ ê²½ìš° ì •ìƒ,ê·¸ ì™¸ì˜ ìˆ«ìì¼ ê²½ìš° ë¹„ì •ìƒ

ac-accelerometer

ì•ˆê²½ì˜ íšŒì „ê°€ì†ë„ë¥¼ í‘œì‹œ. ê°€ì†ë„ê³„ ë°ì´í„°ì˜ ì´ˆë‹¹ ë¯¸í„° ì œê³±ì€

[m / sÂ²]. ì•ˆê²½ì˜ ì›€ì§ì„ì´ ì—†ì„ ë•Œ ac ì†ì„± ê°’ì€ ëŒ€ëµ [0, -9,82, 0]ì…ë‹ˆë‹¤.

gy - Gyroscope

ì•ˆê²½ì˜ íšŒì „ë°ì´í„° , ì´ˆë‹¹ ë‹¨ìœ„ ê°ë„ [Â° / s]

gidx-

pc - Pupil Center

ì†ì„± pcëŠ” scenecamì—ì„œ 3D ì¢Œí‘œë¡œ ì§€ì • . ëˆˆ ìœ„ì¹˜ë¥¼ ë¹„êµí•˜ëŠ” ë° ì‚¬ìš©

ì¢Œí‘œëŠ” mm.

pd - pupil diameter

ë™ê³µ ì§ê²½ì€ mm ë‹¨ìœ„ë¡œ ì¸¡ì •ë˜ë©° ê° ëˆˆì— ëŒ€í•´ ë³„ë„ë¡œ ì „ì†¡

gd - Gaze Direction

ì‹œì„  ë°©í–¥ì€ ê°ë§‰ ìœ„ì¹˜ (ë˜ëŠ” ê°€ëŠ¥í•˜ë©´ ë™ê³µ ì¤‘ì‹¬)ì˜ ë‹¨ì¼ ë°±í„°.

gp - gaze point

ì¥ë©´ì˜ ìœ„ì¹˜

ì‹œì„ ì´ íˆ¬ì‚¬ ë  ì¹´ë©”ë¼ ì´ë¯¸ì§€

ì™¼ìª½ ìƒë‹¨ì€ (0,0)ì´ê³  ì˜¤ë¥¸ìª½ í•˜ë‹¨ì€

(1,1)

gp3 - gaze point 3d

GazePosition3dëŠ” ì‹œì„ ì´ ì§‘ì¤‘ëœ ì¥ë©´ ì¹´ë©”ë¼ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œ 3D ìœ„ì¹˜ (mm).